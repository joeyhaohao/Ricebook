<div class="container">
  <ngb-alert type="success" *ngIf="(updateFlag | async)" [dismissible]="true">
    Update successfully
  </ngb-alert>
  <div class="jumbotron">
    <div class="row">
      <div class="col-6">
        <img class="img-fluid" src="{{(profile | async).avatar}}">
        <p>Update Avatar</p>
        <input type="file" accept="image/*" #imgFile>
        <button class="inputButton" (click)="updateAvatar(imgFile.files[0])">Submit</button>
      </div>
      <div class="col-3">
        <h3>User Info</h3>
        <label>Username</label>
        <input type="text" class="form-control" value="{{(profile | async).username}}" readonly="readonly">
        <label>Email</label>
        <input type="email" class="form-control" value="{{(profile | async).email}}" readonly="readonly">
        <label>Zipcode</label>
        <input type="text" class="form-control" value="{{(profile | async).zipcode}}" readonly="readonly">
        <label>Password</label>
        <p>********</p>
      </div>
      <div class="col-3">
        <h3>Update Info</h3>
        <form [formGroup]="updateInfoForm" (ngSubmit)="updateInfo(updateInfoForm.value)" ngNativeValidate>
          <label>Username</label>
          <input type="text" class="form-control" formControlName="username" value="{{(profile | async).username}}" readonly="readonly">
          <label>Email</label>
          <input type="email" class="form-control" formControlName="email">
          <label>Zipcode</label>
          <input type="text" class="form-control" formControlName="zipcode" pattern="\d\d\d\d\d">
          <label>Password</label>
          <input type="password" class="form-control" formControlName="password">
          <button class="btn btn-lg btn-primary btn-block" type="submit" id="btn-submit">Update</button>
        </form>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12">
        <button class="btn btn-success mx-2" (click)="linkAccount()">Link with Facebook</button>
        <button class="btn btn-warning">Unlink Account</button>
        <span *ngIf="(linkFlag | async)">Link Success</span>
      </div>
    </div>
    <div class="row mt-3">
      <div class="col-12">
        <a [routerLink]="['/main']">Go Back</a>
      </div>
    </div>
  </div>
</div>
